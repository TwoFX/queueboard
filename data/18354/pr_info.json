{
  "data": {
    "repository": {
      "pullRequest": {
        "additions": 1,
        "assignees": {
          "nodes": []
        },
        "author": {
          "login": "tydeu"
        },
        "autoMergeRequest": null,
        "baseRefName": "lean-pr-testing-5684",
        "body": "Variant of #18338 using leanprover/lean4#5684.\r\n",
        "changedFiles": 1,
        "closed": false,
        "closedAt": null,
        "comments": {
          "nodes": [
            {
              "id": "IC_kwDOFcwZ1c6RlQOH",
              "body": "!bench",
              "createdAt": "2024-10-28T19:37:08Z",
              "author": {
                "login": "tydeu"
              }
            },
            {
              "id": "IC_kwDOFcwZ1c6RlQe7",
              "body": "### PR summary [b106e5dbd1](https://github.com/leanprover-community/mathlib4/pull/18354/commits/b106e5dbd15b8d773d5709374760ad5f751b4e9a)\n\n#### Import changes for modified files\n\nNo significant changes to the import graph\n\n\n<details><summary>Import changes for all files</summary>\n\n|Files|Import difference|\n|-|-|\nThere are 4733 files with changed transitive imports taking up over 196420 characters: this is too many to display!\nYou can run `scripts/import_trans_difference.sh all` locally to see the whole output.\n\n</details>\n\n---\n\n<details><summary>\n\n#### Declarations diff\n\n</summary>\n\n`+ ListBlank.cons_flatMap`\n`+ ListBlank.flatMap`\n`+ ListBlank.flatMap_mk`\n`+ Perm.flatMap_left`\n`+ _root_.FreeAddMonoid.ofList_join`\n`+ append_flatten_map_append`\n`+ bind_eq_flatMap`\n`+ chain'_flatten`\n`+ countP_flatMap`\n`+ countP_flatMap'`\n`+ countP_flatten'`\n`+ count_flatMap`\n`+ count_flatMap'`\n`+ count_flatten'`\n`+ drop_sum_flatten`\n`+ drop_sum_flatten'`\n`+ drop_take_succ_flatten_eq_getElem`\n`+ drop_take_succ_flatten_eq_getElem'`\n`+ filterMap_eq_flatMap_toList`\n`+ flatMap_append_perm`\n`+ flatMap_congr`\n`+ flatMap_pure_eq_map`\n`+ flatten_drop_length_sub_one`\n`+ flatten_groupBy`\n`+ flatten_splitWrtComposition`\n`+ flatten_splitWrtCompositionAux`\n`+ infix_flatMap_of_mem`\n`+ instance : CommRing (BitVec w)`\n`+ instance : KStar (Language α) := ⟨fun l ↦ {x | ∃ L : List (List α), x = L.flatten ∧ ∀ y ∈ L, y ∈ l}⟩`\n`+ length_flatMap`\n`+ length_flatMap'`\n`+ length_flatten'`\n`+ list_flatMap`\n`+ list_flatten`\n`+ map_append_flatMap_perm`\n`+ nodupKeys_flatten`\n`+ nodup_flatMap`\n`+ nodup_flatten`\n`+ ofFin_intCast`\n`+ ofFin_natCast`\n`+ ofFin_neg`\n`+ ofList_flatten`\n`+ prod_flatten`\n`+ ranges_flatten`\n`+ ranges_flatten'`\n`+ rel_flatMap`\n`+ rel_flatten`\n`+ splitWrtComposition_flatten`\n`+ sublistsAux_eq_flatMap`\n`+ sum_join`\n`+ take_sum_flatten`\n`+ take_sum_flatten'`\n`+ toFin_intCast`\n`+ toFin_natCast`\n`- Quotient.decidableEq`\n`- add_zero`\n`- countP_bind'`\n`- count_bind'`\n`- curry`\n`- curry_apply`\n`- curry_uncurry`\n`- fst_swap`\n`- getElem?_mapIdx`\n`- getElem?_mapIdx_go`\n`- instance : KStar (Language α) := ⟨fun l ↦ {x | ∃ L : List (List α), x = L.join ∧ ∀ y ∈ L, y ∈ l}⟩`\n`- join_filter_isEmpty_eq_false`\n`- length_bind'`\n`- length_mapIdx`\n`- length_mapIdx_go`\n`- mapIdx_append`\n`- mapIdx_cons`\n`- mapIdx_eq_enum_map`\n`- mapIdx_nil`\n`- map_comp_map`\n`- map_comp_swap`\n`- map_id`\n`- map_id'`\n`- map_map`\n`- map_uncurry_zip_eq_zipWith`\n`- snd_swap`\n`- swap`\n`- swap_inj`\n`- swap_prod_mk`\n`- swap_swap`\n`- swap_swap_eq`\n`- uncurry`\n`- uncurry_apply_pair`\n`- uncurry_curry`\n<details>\n  <summary>You can run this locally as follows</summary>\n\n\n```bash\n## summary with just the declaration names:\n./scripts/declarations_diff.sh <optional_commit>\n\n## more verbose report:\n./scripts/declarations_diff.sh long <optional_commit>\n```\n</details>\n\nThe doc-module for `script/declarations_diff.sh` contains some details about this script.\n\n</details>",
              "createdAt": "2024-10-28T19:37:46Z",
              "author": {
                "login": "github-actions"
              }
            },
            {
              "id": "IC_kwDOFcwZ1c6RlcDY",
              "body": "Here are the [benchmark results](http://speed.lean-fro.org/mathlib4/run-detail/8de96fdd-4bc3-4802-ad28-4b536c9d2fce) for commit b106e5dbd15b8d773d5709374760ad5f751b4e9a.\nThe entire run failed.\nFound no runs to compare against.",
              "createdAt": "2024-10-28T20:03:12Z",
              "author": {
                "login": "leanprover-bot"
              }
            }
          ]
        },
        "commits": {
          "nodes": [
            {
              "commit": {
                "oid": "b106e5dbd15b8d773d5709374760ad5f751b4e9a",
                "additions": 1,
                "deletions": 1,
                "committedDate": "2024-10-28T19:34:12Z",
                "author": {
                  "name": "tydeu",
                  "email": "tydeu@hatpress.net"
                },
                "statusCheckRollup": {
                  "contexts": {
                    "nodes": [
                      {
                        "__typename": "CheckRun",
                        "id": "CR_kwDOFcwZ1c8AAAAHfhYsmA",
                        "name": "Add topic label",
                        "conclusion": "SUCCESS",
                        "status": "COMPLETED",
                        "detailsUrl": "https://github.com/leanprover-community/mathlib4/actions/runs/11561352437/job/32180153496"
                      },
                      {
                        "__typename": "CheckRun",
                        "id": "CR_kwDOFcwZ1c8AAAAHfhYsmw",
                        "name": "label-and-report-new-contributor",
                        "conclusion": "SUCCESS",
                        "status": "COMPLETED",
                        "detailsUrl": "https://github.com/leanprover-community/mathlib4/actions/runs/11561352446/job/32180153499"
                      },
                      {
                        "__typename": "CheckRun",
                        "id": "CR_kwDOFcwZ1c8AAAAHfhYsaQ",
                        "name": "build",
                        "conclusion": "SUCCESS",
                        "status": "COMPLETED",
                        "detailsUrl": "https://github.com/leanprover-community/mathlib4/actions/runs/11561352432/job/32180153449"
                      },
                      {
                        "__typename": "CheckRun",
                        "id": "CR_kwDOFcwZ1c8AAAAHfhRSXw",
                        "name": "Cancel Previous Runs (CI)",
                        "conclusion": "SUCCESS",
                        "status": "COMPLETED",
                        "detailsUrl": "https://github.com/leanprover-community/mathlib4/actions/runs/11561313524/job/32180032095"
                      },
                      {
                        "__typename": "CheckRun",
                        "id": "CR_kwDOFcwZ1c8AAAAHfhRT7A",
                        "name": "Cancel Previous Runs (CI)",
                        "conclusion": "SUCCESS",
                        "status": "COMPLETED",
                        "detailsUrl": "https://github.com/leanprover-community/mathlib4/actions/runs/11561313518/job/32180032492"
                      },
                      {
                        "__typename": "CheckRun",
                        "id": "CR_kwDOFcwZ1c8AAAAHfhYtzg",
                        "name": "Lint style",
                        "conclusion": "SUCCESS",
                        "status": "COMPLETED",
                        "detailsUrl": "https://github.com/leanprover-community/mathlib4/actions/runs/11561352435/job/32180153806"
                      },
                      {
                        "__typename": "CheckRun",
                        "id": "CR_kwDOFcwZ1c8AAAAHfhRUlA",
                        "name": "Lint style (fork)",
                        "conclusion": "SKIPPED",
                        "status": "COMPLETED",
                        "detailsUrl": "https://github.com/leanprover-community/mathlib4/actions/runs/11561313524/job/32180032660"
                      },
                      {
                        "__typename": "CheckRun",
                        "id": "CR_kwDOFcwZ1c8AAAAHfhRStQ",
                        "name": "Lint style",
                        "conclusion": "SUCCESS",
                        "status": "COMPLETED",
                        "detailsUrl": "https://github.com/leanprover-community/mathlib4/actions/runs/11561313518/job/32180032181"
                      },
                      {
                        "__typename": "CheckRun",
                        "id": "CR_kwDOFcwZ1c8AAAAHfhYsbg",
                        "name": "Check all files imported",
                        "conclusion": "SUCCESS",
                        "status": "COMPLETED",
                        "detailsUrl": "https://github.com/leanprover-community/mathlib4/actions/runs/11561352435/job/32180153454"
                      },
                      {
                        "__typename": "CheckRun",
                        "id": "CR_kwDOFcwZ1c8AAAAHfhRVJA",
                        "name": "Build",
                        "conclusion": null,
                        "status": "IN_PROGRESS",
                        "detailsUrl": "https://github.com/leanprover-community/mathlib4/actions/runs/11561313518/job/32180032804"
                      },
                      {
                        "__typename": "CheckRun",
                        "id": "CR_kwDOFcwZ1c8AAAAHfhRTfQ",
                        "name": "Build (fork)",
                        "conclusion": "SKIPPED",
                        "status": "COMPLETED",
                        "detailsUrl": "https://github.com/leanprover-community/mathlib4/actions/runs/11561313524/job/32180032381"
                      },
                      {
                        "__typename": "CheckRun",
                        "id": "CR_kwDOFcwZ1c8AAAAHfhRV1A",
                        "name": "Post-CI job (fork)",
                        "conclusion": "SKIPPED",
                        "status": "COMPLETED",
                        "detailsUrl": "https://github.com/leanprover-community/mathlib4/actions/runs/11561313524/job/32180032980"
                      },
                      {
                        "__typename": "CheckRun",
                        "id": "CR_kwDOFcwZ1c8AAAAHfhZCZQ",
                        "name": "New Contributor Check",
                        "conclusion": "NEUTRAL",
                        "status": "COMPLETED",
                        "detailsUrl": "https://github.com/leanprover-community/mathlib4/runs/32180159077"
                      },
                      {
                        "__typename": "CheckRun",
                        "id": "CR_kwDOFcwZ1c8AAAAHfhaDtQ",
                        "name": "Summary",
                        "conclusion": "SUCCESS",
                        "status": "COMPLETED",
                        "detailsUrl": "https://dashboard.mergify.com/event-logs?pullRequestNumber=18354&login=leanprover-community&repository=mathlib4"
                      }
                    ]
                  }
                }
              }
            }
          ]
        },
        "createdAt": "2024-10-28T19:36:54Z",
        "deletions": 1,
        "files": {
          "nodes": [
            {
              "path": "scripts/bench/temci-config.run.yml",
              "additions": 1,
              "deletions": 1
            }
          ]
        },
        "headRefName": "tydeu/pr-5864-bench-env",
        "headRefOid": "b106e5dbd15b8d773d5709374760ad5f751b4e9a",
        "headRepository": {
          "name": "mathlib4",
          "owner": {
            "login": "leanprover-community"
          }
        },
        "headRepositoryOwner": {
          "login": "leanprover-community"
        },
        "id": "PR_kwDOFcwZ1c6AJlQu",
        "isCrossRepository": false,
        "isDraft": false,
        "labels": {
          "nodes": []
        },
        "latestReviews": {
          "nodes": []
        },
        "maintainerCanModify": false,
        "mergeCommit": null,
        "mergeStateStatus": "UNSTABLE",
        "mergeable": "MERGEABLE",
        "mergedAt": null,
        "mergedBy": null,
        "milestone": null,
        "number": 18354,
        "potentialMergeCommit": {
          "oid": "3314b6083f0439631daad118cc7d8ac488699e00"
        },
        "projectCards": {
          "nodes": []
        },
        "reactionGroups": [
          {
            "content": "THUMBS_UP",
            "users": {
              "nodes": []
            }
          },
          {
            "content": "THUMBS_DOWN",
            "users": {
              "nodes": []
            }
          },
          {
            "content": "LAUGH",
            "users": {
              "nodes": []
            }
          },
          {
            "content": "HOORAY",
            "users": {
              "nodes": []
            }
          },
          {
            "content": "CONFUSED",
            "users": {
              "nodes": []
            }
          },
          {
            "content": "HEART",
            "users": {
              "nodes": []
            }
          },
          {
            "content": "ROCKET",
            "users": {
              "nodes": []
            }
          },
          {
            "content": "EYES",
            "users": {
              "nodes": []
            }
          }
        ],
        "reviewDecision": null,
        "reviewRequests": {
          "nodes": []
        },
        "reviews": {
          "nodes": []
        },
        "reviewThreads": {
          "nodes": []
        },
        "closingIssuesReferences": {
          "nodes": []
        },
        "participants": {
          "nodes": [
            {
              "id": "MDQ6VXNlcjkwMjA0ODM=",
              "login": "tydeu"
            },
            {
              "id": "MDQ6VXNlcjg1NjY4Mzk0",
              "login": "leanprover-bot"
            }
          ]
        },
        "state": "OPEN",
        "statusCheckRollup": {
          "contexts": {
            "nodes": [
              {
                "__typename": "CheckRun",
                "id": "CR_kwDOFcwZ1c8AAAAHfhYsmA",
                "name": "Add topic label",
                "conclusion": "SUCCESS",
                "status": "COMPLETED",
                "detailsUrl": "https://github.com/leanprover-community/mathlib4/actions/runs/11561352437/job/32180153496"
              },
              {
                "__typename": "CheckRun",
                "id": "CR_kwDOFcwZ1c8AAAAHfhYsmw",
                "name": "label-and-report-new-contributor",
                "conclusion": "SUCCESS",
                "status": "COMPLETED",
                "detailsUrl": "https://github.com/leanprover-community/mathlib4/actions/runs/11561352446/job/32180153499"
              },
              {
                "__typename": "CheckRun",
                "id": "CR_kwDOFcwZ1c8AAAAHfhYsaQ",
                "name": "build",
                "conclusion": "SUCCESS",
                "status": "COMPLETED",
                "detailsUrl": "https://github.com/leanprover-community/mathlib4/actions/runs/11561352432/job/32180153449"
              },
              {
                "__typename": "CheckRun",
                "id": "CR_kwDOFcwZ1c8AAAAHfhRSXw",
                "name": "Cancel Previous Runs (CI)",
                "conclusion": "SUCCESS",
                "status": "COMPLETED",
                "detailsUrl": "https://github.com/leanprover-community/mathlib4/actions/runs/11561313524/job/32180032095"
              },
              {
                "__typename": "CheckRun",
                "id": "CR_kwDOFcwZ1c8AAAAHfhRT7A",
                "name": "Cancel Previous Runs (CI)",
                "conclusion": "SUCCESS",
                "status": "COMPLETED",
                "detailsUrl": "https://github.com/leanprover-community/mathlib4/actions/runs/11561313518/job/32180032492"
              },
              {
                "__typename": "CheckRun",
                "id": "CR_kwDOFcwZ1c8AAAAHfhYtzg",
                "name": "Lint style",
                "conclusion": "SUCCESS",
                "status": "COMPLETED",
                "detailsUrl": "https://github.com/leanprover-community/mathlib4/actions/runs/11561352435/job/32180153806"
              },
              {
                "__typename": "CheckRun",
                "id": "CR_kwDOFcwZ1c8AAAAHfhRUlA",
                "name": "Lint style (fork)",
                "conclusion": "SKIPPED",
                "status": "COMPLETED",
                "detailsUrl": "https://github.com/leanprover-community/mathlib4/actions/runs/11561313524/job/32180032660"
              },
              {
                "__typename": "CheckRun",
                "id": "CR_kwDOFcwZ1c8AAAAHfhRStQ",
                "name": "Lint style",
                "conclusion": "SUCCESS",
                "status": "COMPLETED",
                "detailsUrl": "https://github.com/leanprover-community/mathlib4/actions/runs/11561313518/job/32180032181"
              },
              {
                "__typename": "CheckRun",
                "id": "CR_kwDOFcwZ1c8AAAAHfhYsbg",
                "name": "Check all files imported",
                "conclusion": "SUCCESS",
                "status": "COMPLETED",
                "detailsUrl": "https://github.com/leanprover-community/mathlib4/actions/runs/11561352435/job/32180153454"
              },
              {
                "__typename": "CheckRun",
                "id": "CR_kwDOFcwZ1c8AAAAHfhRVJA",
                "name": "Build",
                "conclusion": null,
                "status": "IN_PROGRESS",
                "detailsUrl": "https://github.com/leanprover-community/mathlib4/actions/runs/11561313518/job/32180032804"
              },
              {
                "__typename": "CheckRun",
                "id": "CR_kwDOFcwZ1c8AAAAHfhRTfQ",
                "name": "Build (fork)",
                "conclusion": "SKIPPED",
                "status": "COMPLETED",
                "detailsUrl": "https://github.com/leanprover-community/mathlib4/actions/runs/11561313524/job/32180032381"
              },
              {
                "__typename": "CheckRun",
                "id": "CR_kwDOFcwZ1c8AAAAHfhRV1A",
                "name": "Post-CI job (fork)",
                "conclusion": "SKIPPED",
                "status": "COMPLETED",
                "detailsUrl": "https://github.com/leanprover-community/mathlib4/actions/runs/11561313524/job/32180032980"
              },
              {
                "__typename": "CheckRun",
                "id": "CR_kwDOFcwZ1c8AAAAHfhZCZQ",
                "name": "New Contributor Check",
                "conclusion": "NEUTRAL",
                "status": "COMPLETED",
                "detailsUrl": "https://github.com/leanprover-community/mathlib4/runs/32180159077"
              },
              {
                "__typename": "CheckRun",
                "id": "CR_kwDOFcwZ1c8AAAAHfhaDtQ",
                "name": "Summary",
                "conclusion": "SUCCESS",
                "status": "COMPLETED",
                "detailsUrl": "https://dashboard.mergify.com/event-logs?pullRequestNumber=18354&login=leanprover-community&repository=mathlib4"
              }
            ]
          }
        },
        "title": "chore(scripts/bench): use env, not `--lean`",
        "updatedAt": "2024-10-28T20:03:13Z",
        "url": "https://github.com/leanprover-community/mathlib4/pull/18354",
        "timelineItems": {
          "nodes": [
            {
              "__typename": "PullRequestCommit"
            },
            {
              "__typename": "IssueComment",
              "id": "IC_kwDOFcwZ1c6RlQOH",
              "createdAt": "2024-10-28T19:37:08Z",
              "body": "!bench",
              "author": {
                "login": "tydeu"
              }
            },
            {
              "__typename": "IssueComment",
              "id": "IC_kwDOFcwZ1c6RlQe7",
              "createdAt": "2024-10-28T19:37:46Z",
              "body": "### PR summary [b106e5dbd1](https://github.com/leanprover-community/mathlib4/pull/18354/commits/b106e5dbd15b8d773d5709374760ad5f751b4e9a)\n\n#### Import changes for modified files\n\nNo significant changes to the import graph\n\n\n<details><summary>Import changes for all files</summary>\n\n|Files|Import difference|\n|-|-|\nThere are 4733 files with changed transitive imports taking up over 196420 characters: this is too many to display!\nYou can run `scripts/import_trans_difference.sh all` locally to see the whole output.\n\n</details>\n\n---\n\n<details><summary>\n\n#### Declarations diff\n\n</summary>\n\n`+ ListBlank.cons_flatMap`\n`+ ListBlank.flatMap`\n`+ ListBlank.flatMap_mk`\n`+ Perm.flatMap_left`\n`+ _root_.FreeAddMonoid.ofList_join`\n`+ append_flatten_map_append`\n`+ bind_eq_flatMap`\n`+ chain'_flatten`\n`+ countP_flatMap`\n`+ countP_flatMap'`\n`+ countP_flatten'`\n`+ count_flatMap`\n`+ count_flatMap'`\n`+ count_flatten'`\n`+ drop_sum_flatten`\n`+ drop_sum_flatten'`\n`+ drop_take_succ_flatten_eq_getElem`\n`+ drop_take_succ_flatten_eq_getElem'`\n`+ filterMap_eq_flatMap_toList`\n`+ flatMap_append_perm`\n`+ flatMap_congr`\n`+ flatMap_pure_eq_map`\n`+ flatten_drop_length_sub_one`\n`+ flatten_groupBy`\n`+ flatten_splitWrtComposition`\n`+ flatten_splitWrtCompositionAux`\n`+ infix_flatMap_of_mem`\n`+ instance : CommRing (BitVec w)`\n`+ instance : KStar (Language α) := ⟨fun l ↦ {x | ∃ L : List (List α), x = L.flatten ∧ ∀ y ∈ L, y ∈ l}⟩`\n`+ length_flatMap`\n`+ length_flatMap'`\n`+ length_flatten'`\n`+ list_flatMap`\n`+ list_flatten`\n`+ map_append_flatMap_perm`\n`+ nodupKeys_flatten`\n`+ nodup_flatMap`\n`+ nodup_flatten`\n`+ ofFin_intCast`\n`+ ofFin_natCast`\n`+ ofFin_neg`\n`+ ofList_flatten`\n`+ prod_flatten`\n`+ ranges_flatten`\n`+ ranges_flatten'`\n`+ rel_flatMap`\n`+ rel_flatten`\n`+ splitWrtComposition_flatten`\n`+ sublistsAux_eq_flatMap`\n`+ sum_join`\n`+ take_sum_flatten`\n`+ take_sum_flatten'`\n`+ toFin_intCast`\n`+ toFin_natCast`\n`- Quotient.decidableEq`\n`- add_zero`\n`- countP_bind'`\n`- count_bind'`\n`- curry`\n`- curry_apply`\n`- curry_uncurry`\n`- fst_swap`\n`- getElem?_mapIdx`\n`- getElem?_mapIdx_go`\n`- instance : KStar (Language α) := ⟨fun l ↦ {x | ∃ L : List (List α), x = L.join ∧ ∀ y ∈ L, y ∈ l}⟩`\n`- join_filter_isEmpty_eq_false`\n`- length_bind'`\n`- length_mapIdx`\n`- length_mapIdx_go`\n`- mapIdx_append`\n`- mapIdx_cons`\n`- mapIdx_eq_enum_map`\n`- mapIdx_nil`\n`- map_comp_map`\n`- map_comp_swap`\n`- map_id`\n`- map_id'`\n`- map_map`\n`- map_uncurry_zip_eq_zipWith`\n`- snd_swap`\n`- swap`\n`- swap_inj`\n`- swap_prod_mk`\n`- swap_swap`\n`- swap_swap_eq`\n`- uncurry`\n`- uncurry_apply_pair`\n`- uncurry_curry`\n<details>\n  <summary>You can run this locally as follows</summary>\n\n\n```bash\n## summary with just the declaration names:\n./scripts/declarations_diff.sh <optional_commit>\n\n## more verbose report:\n./scripts/declarations_diff.sh long <optional_commit>\n```\n</details>\n\nThe doc-module for `script/declarations_diff.sh` contains some details about this script.\n\n</details>",
              "author": {
                "login": "github-actions"
              }
            },
            {
              "__typename": "IssueComment",
              "id": "IC_kwDOFcwZ1c6RlcDY",
              "createdAt": "2024-10-28T20:03:12Z",
              "body": "Here are the [benchmark results](http://speed.lean-fro.org/mathlib4/run-detail/8de96fdd-4bc3-4802-ad28-4b536c9d2fce) for commit b106e5dbd15b8d773d5709374760ad5f751b4e9a.\nThe entire run failed.\nFound no runs to compare against.",
              "author": {
                "login": "leanprover-bot"
              }
            }
          ]
        }
      }
    }
  }
}
